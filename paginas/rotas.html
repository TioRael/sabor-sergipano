<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rotas Gastron√¥micas | Sabor Sergipano</title>
    <meta name="description" content="Rotas gastron√¥micas e tur√≠sticas por Sergipe. Roteiros completos, paradas, mapas, hor√°rios e dicas para explorar o melhor da culin√°ria sergipana.">
    <meta name="keywords" content="Turismo Sergipe, Gastronomia, Rota do Canga√ßo, C√¢nions do Xing√≥, Culin√°ria Nordestina">
    <meta name="author" content="Equipe Sabor Sergipano">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        laranja: { 50: '#fff7ed', 100: '#ffedd5', 500: '#f97316', 600: '#ea580c', 900: '#7c2d12' },
                        terracota: '#9a3412',
                        dark: { 800: '#1f2937', 900: '#111827', 950: '#030712' }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="/estilos.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>

<body class="body-background-animado text-gray-900 dark:text-gray-100 min-h-screen transition-colors duration-300">

    <!-- Emojis animados de fundo (igual ao index) -->
    <div class="bg-decorations">
        <div class="bg-emoji emoji-1">üåµ</div>
        <div class="bg-emoji emoji-2">üåΩ</div>
        <div class="bg-emoji emoji-3">üå∂Ô∏è</div>
        <div class="bg-emoji emoji-4">ü¶Ä</div>
        <div class="bg-emoji emoji-5">ü§†</div>
        <div class="bg-emoji emoji-6">‚òÄÔ∏è</div>
        <div class="bg-emoji emoji-7">‚òÄÔ∏è</div>
    </div>

    <!-- Header completo igual ao index.html -->
    <header class="fixed top-0 w-full z-50 glass-panel border-b border-white/20">
        <div class="max-w-7xl mx-auto px-4 h-20 flex items-center justify-between">
            <a href="/index.html" class="flex items-center gap-3 hover:opacity-80 transition">
                <img src="/assets/imagens/logo2.png" alt="Sabor Sergipano" class="h-12 object-contain"> 
            </a>

            <nav class="hidden md:flex gap-6 text-sm font-medium text-gray-600 dark:text-gray-300">
                <a href="/index.html" class="hover:text-laranja-600 transition font-bold">In√≠cio</a>
                <a href="rotas.html" class="hover:text-laranja-600 transition font-bold text-laranja-600">Rotas</a>
                <a href="agencias.html" class="hover:text-laranja-600 transition font-bold">Ag√™ncias</a>
                <a href="sobre.html" class="hover:text-laranja-600 transition font-bold">Sobre</a>
            </nav>

            <div class="hidden md:flex items-center gap-3">
                <button id="themeToggle" class="p-2.5 rounded-full hover:bg-orange-100 dark:hover:bg-white/10 transition-colors text-laranja-600 dark:text-yellow-400">
                    <span class="sun text-xl">‚òÄÔ∏è</span>
                    <span class="moon hidden text-xl">üåô</span>
                </button>
            </div>

            <div class="flex md:hidden items-center gap-3">
                <button id="themeToggleMobile" class="p-2.5 rounded-full hover:bg-orange-100 dark:hover:bg-white/10 text-laranja-600 dark:text-yellow-400">
                    <span class="sun text-xl">‚òÄÔ∏è</span>
                    <span class="moon hidden text-xl">üåô</span>
                </button>
                <button id="mobileMenuBtn" class="p-2.5 rounded-lg hover:bg-white/20 dark:hover:bg-white/10 transition">
                    <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Menu mobile -->
        <div id="mobileMenu" class="hidden md:hidden bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-t border-gray-200 dark:border-gray-800">
            <nav class="flex flex-col py-4 px-6 space-y-4 text-lg font-medium">
                <a href="/index.html" class="hover:text-laranja-600 transition py-2">In√≠cio</a>
                <a href="rotas.html" class="hover:text-laranja-600 transition py-2 text-laranja-600">Rotas</a>
                <a href="agencias.html" class="hover:text-laranja-600 transition py-2">Ag√™ncias</a>
                <a href="sobre.html" class="hover:text-laranja-600 transition py-2">Sobre o Projeto</a>
            </nav>
        </div>
    </header>

    <!-- Conte√∫do principal -->
    <main class="pt-28 pb-20 px-4 max-w-7xl mx-auto relative z-10">

        <section class="text-center mb-16">
            <span class="inline-block py-1 px-3 rounded-full bg-laranja-0 text-laranja-700 text-xs font-bold tracking-wider mb-4 border border-laranja-200 uppercase">
                Roteiros Gastron√¥micos & Turismo
            </span>
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-900 dark:text-white mb-6 leading-tight">
                Explore Sergipe <span class="text-transparent bg-clip-text bg-gradient-to-r from-laranja-600 to-terracota">pelo paladar</span>
            </h1>
            <p class="text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed">
                Rotas completas com paradas estrat√©gicas, hor√°rios, custos e dicas locais. Do sert√£o ao litoral, viva o melhor da culin√°ria sergipana.
            </p>
        </section>

        <div id="rotas-container" class="space-y-20">
            <p class="text-center text-gray-500 animate-pulse text-xl">Carregando roteiros incr√≠veis...</p>
        </div>
    </main>

<footer class="bg-gradient-to-t from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 text-white py-12 mt-20 relative z-10">
    <div class="max-w-7xl mx-auto px-4 text-center">
        <h3 class="text-2xl font-bold mb-6 text-laranja-500">Equipe Sabor Sergipano</h3>
        <p class="text-gray-300 mb-8 max-w-2xl mx-auto">
            Projeto desenvolvido para a disciplina de Forma√ß√£o em Desenvolvimento de Sistemas J√∫nior ‚Äì Turma T03B (2025)<br>
            Professor: Edlange Lopes da Silva
        </p>

        <div class="grid grid-cols-2 md:grid-cols-3 gap-8 mb-10">
            <div>
                <p class="font-semibold mb-2">Israel</p>
                <div class="flex justify-center gap-4 text-sm">
                    <a href="https://github.com/TioRael" target="_blank" class="hover:text-laranja-500 transition">GitHub</a>
                    <a href="https://linkedin.com/in/israel-menezes-perfil" target="_blank" class="hover:text-laranja-500 transition">LinkedIn</a>
                </div>
            </div>

            <div>
                <p class="font-semibold mb-2">Allan</p>
                <div class="flex justify-center gap-4 text-sm">
                    <a href="https://github.com/allnmaxmo" target="_blank" class="hover:text-laranja-500 transition">GitHub</a>
                    <a href="https://linkedin.com/in/SEU_LINKEDIN" target="_blank" class="hover:text-laranja-500 transition">LinkedIn</a>
                </div>
            </div>

            <div>
                <p class="font-semibold mb-2">Andrey</p>
                <div class="flex justify-center gap-4 text-sm">
                    <a href="https://github.com/andreyjovemtech" target="_blank" class="hover:text-laranja-500 transition">GitHub</a>
                    <a href="https://linkedin.com/in/SEU_LINKEDIN" target="_blank" class="hover:text-laranja-500 transition">LinkedIn</a>
                </div>
            </div>
        </div>

        <div class="border-t border-gray-700 pt-6 text-sm text-gray-400">
            <p>¬© 2025 Sabor Sergipano ‚Äì Todos os direitos reservados.</p>
            <p class="mt-2">
                Feito com ‚ù§Ô∏è e muita pimenta no interior de Sergipe
            </p>
        </div>
    </div>
</footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="script.js"></script>

    <script>
        // Mobile Menu Toggle
        document.getElementById('mobileMenuBtn')?.addEventListener('click', () => {
            document.getElementById('mobileMenu').classList.toggle('hidden');
        });

        // Theme Toggle (desktop + mobile)
        document.getElementById('themeToggle')?.addEventListener('click', toggleTheme);
        document.getElementById('themeToggleMobile')?.addEventListener('click', toggleTheme);

        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
            updateThemeIcons();
        }

        function updateThemeIcons() {
            const isDark = document.documentElement.classList.contains('dark');
            document.querySelectorAll('.sun').forEach(el => el.classList.toggle('hidden', isDark));
            document.querySelectorAll('.moon').forEach(el => el.classList.toggle('hidden', !isDark));
        }

        // Init theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }
        updateThemeIcons();

        // ==================== CARREGAMENTO DAS ROTAS ====================
        async function carregarRotas() {
            try {
                const response = await fetch('/db/rotas.json');
                if (!response.ok) throw new Error("Erro ao carregar rotas");
                const rotas = await response.json();
                renderizarRotas(rotas);
            } catch (error) {
                console.error(error);
                document.getElementById('rotas-container').innerHTML = `
                    <div class="text-center p-10 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-2xl">
                        <p class="text-lg font-bold">Aviso</p>
                        <p>Para ver as rotas, rode o site com um servidor local (ex: Live Server no VSCode).</p>
                    </div>`;
            }
        }

        function renderizarRotas(rotas) {
            const container = document.getElementById('rotas-container');
            container.innerHTML = '';

            rotas.forEach(rota => {
                const paradasHTML = rota.paradas.map(parada => `
                    <div class="relative pl-8 md:pl-12 group">
                        <div class="absolute -left-[13px] top-0 bg-laranja-500 w-6 h-6 rounded-full border-4 border-white dark:border-gray-900 shadow z-10"></div>
                        <div class="absolute left-[-2px] top-6 bottom-[-24px] w-0.5 bg-gray-200 dark:bg-gray-700 group-last:hidden"></div>
                        <div class="bg-white dark:bg-gray-800 p-5 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md transition">
                            <span class="text-xs font-bold text-laranja-600 uppercase tracking-wide mb-1 block">${parada.horario} ‚Ä¢ ${parada.tipo}</span>
                            <h3 class="text-lg font-bold mb-1">${parada.local}</h3>
                            <p class="text-gray-500 dark:text-gray-400 text-sm mb-3">${parada.descricao}</p>
                            ${parada.link_mapa ? `<a href="${parada.link_mapa}" target="_blank" class="text-xs font-bold text-laranja-500 hover:underline">Ver no Mapa ‚Üí</a>` : ''}
                        </div>
                    </div>
                `).join('');

                const infoChips = `
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3 mb-6">
                        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg"><span>Duracao</span> ${rota.info_tecnica.duracao}</div>
                        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg"><span>Distancia</span> ${rota.info_tecnica.distancia}</div>
                        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg"><span>Custo</span> ${rota.info_tecnica.preco_medio}</div>
                        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg"><span>Dificuldade</span> ${rota.info_tecnica.dificuldade}</div>
                        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg col-span-2 md:col-span-1"><span>Transporte</span> ${rota.info_tecnica.transporte}</div>
                    </div>`;

                const rotaHTML = `
                    <section class="bg-white dark:bg-gray-900 rounded-3xl overflow-hidden shadow-xl border border-gray-100 dark:border-gray-800">
                        <div class="relative h-64 md:h-80">
                            <img src="${rota.imagem_capa}" alt="${rota.titulo}" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-8 text-white">
                                <span class="bg-laranja-600 w-fit px-3 py-1 rounded-full text-xs font-bold mb-2">${rota.subtitulo}</span>
                                <h2 class="text-3xl md:text-4xl font-bold">${rota.titulo}</h2>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-12 gap-8 p-6 md:p-10">
                            <div class="md:col-span-7 space-y-8">
                                <div>
                                    <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">Informa√ß√µes √öteis</h3>
                                    ${infoChips}
                                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed">${rota.descricao_curta}</p>
                                </div>

                                <div class="space-y-3">
                                    <details class="group bg-orange-50 dark:bg-gray-800/50 rounded-lg p-4 cursor-pointer">
                                        <summary class="flex justify-between items-center font-bold text-laranja-700 dark:text-laranja-500">
                                            <span>O que levar?</span>
                                            <span class="transition group-open:rotate-180">‚ñº</span>
                                        </summary>
                                        <ul class="mt-3 text-sm text-gray-600 dark:text-gray-400 list-disc list-inside space-y-1">
                                            ${rota.extras.o_que_levar.map(item => `<li>${item}</li>`).join('')}
                                        </ul>
                                    </details>

                                    <details class="group bg-orange-50 dark:bg-gray-800/50 rounded-lg p-4 cursor-pointer">
                                        <summary class="flex justify-between items-center font-bold text-laranja-700 dark:text-laranja-500">
                                            <span>Hist√≥ria & Curiosidades</span>
                                            <span class="transition group-open:rotate-180">‚ñº</span>
                                        </summary>
                                        <div class="mt-3 text-sm text-gray-600 dark:text-gray-400 space-y-2">
                                            <p><strong>Hist√≥ria:</strong> ${rota.extras.historia}</p>
                                            <p><strong>Curiosidade:</strong> ${rota.extras.curiosidades}</p>
                                        </div>
                                    </details>
                                </div>
                            </div>

                            <div class="md:col-span-5">
                                <h3 class="text-xl font-bold mb-6 text-gray-900 dark:text-white pl-8">Cronograma</h3>
                                <div class="space-y-8 border-l-2 border-gray-100 dark:border-gray-800 ml-4">
                                    ${paradasHTML}
                                </div>
                            </div>
                        </div>
                    </section>`;

                container.innerHTML += rotaHTML;
            });
        }

        // Inicia tudo
        document.addEventListener('DOMContentLoaded', carregarRotas);
    </script>
</body>
</html>